<div class="form-group" ng-class="{'has-error': input.$invalid && input.$touched}">
  <label class="control-label" for="{{name}}" ng-if="!!label">{{label}}</label>
  <ng-transclude></ng-transclude>
  <div ng-messages="input.$error" ng-show="input.$touched" role="alert">
    <div ng-repeat="(messageKey, message) in messages" ng-message="{{messageKey}}" class="help-block">
      {{message}}
    </div>
  </div>
</div>
