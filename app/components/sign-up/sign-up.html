<form novalidate name="{{vm.name}}" ng-submit="vm.submit()">
  <div ng-if="this[vm.name].$submitted" class="after-submit" messages="">
  </div>
  <form-input messages="{required:'Email is required', email:'Provide valid email'}" label="Email address"
              model="user.email">
    <input type="email" class="form-control" name="mail" placeholder="your@email" required/>
  </form-input>
  <form-input model="user.login"
              messages="{required:'Login is required', unique:'This login is used, please choose another', minlength:'Login should be more than 3 symbols'}"
              label="Login" placeholder="login" required minlength="3" form-input-unique></form-input>
  <form-input label="Your name" placeholder="My Name" model="user.name"></form-input>
  <form-input messages="{required:'Password is required'}" label="Password" model="user.password">
    <input type="password" class="form-control" name="password" placeholder="Enter password" required/>
  </form-input>
  <form-input messages="{required:'Password is required', formInputMatch:'Passwords does not match'}"
              label="Confirm password" ng-show="this[vm.name].password.$dirty" model="passwordCheck">
    <input type="password" class="form-control" name="passwordCheck" placeholder="Same password again" required
           form-input-match="password"/>
  </form-input>
  <div class="checkbox">
    <label class="control-label">
      <input type="checkbox" id="confirm" ng-model="agreement" required> I agree with something
    </label>
  </div>
  <button type="submit" class="btn btn-primary" ng-disabled="this[vm.name].$invalid">Submit</button>
</form>
